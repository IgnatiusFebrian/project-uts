<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Edit Progress Data</title>
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
  />
</head>
<body class="bg-light">
  <%- include('../partials/navbar') %>

  <div class="container mt-5">
    <h2>Edit Data <%= type.toUpperCase() %></h2>

    <% if (typeof error !== 'undefined' && error) { %>
      <div class="alert alert-danger" role="alert">
        <%= error %>
      </div>
    <% } %>

    <form action="<%= type === 'water' ? '/water/edit/' + data._id : '/edit/' + data._id %>" method="POST">
      <% if (type === 'bmi') { %>
        <div class="form-group">
          <label for="weight">Berat Badan (kg)</label>
          <input
            type="number"
            step="any"
            class="form-control"
            id="weight"
            name="weight"
            min="0"
            placeholder="Masukkan berat badan"
            value="<%= data.weight %>"
            required
          />
        </div>
        <div class="form-group">
          <label for="height">Tinggi Badan (cm)</label>
          <input
            type="number"
            step="any"
            class="form-control"
            id="height"
            name="height"
            min="0"
            placeholder="Masukkan tinggi badan"
            value="<%= data.height %>"
            required
          />
        </div>
      
      <% } else if (type === 'fat') { %>
        <div class="form-group">
          <label for="waist">Lingkar Pinggang (cm)</label>
          <input
            type="number"
            step="any"
            class="form-control"
            id="waist"
            name="waist"
            min="0"
            placeholder="Masukkan lingkar pinggang"
            value="<%= data.waist %>"
            required
          />
        </div>
        <div class="form-group">
          <label for="neck">Lingkar Leher (cm)</label>
          <input
            type="number"
            step="any"
            class="form-control"
            id="neck"
            name="neck"
            min="0"
            placeholder="Masukkan lingkar leher"
            value="<%= data.neck %>"
            required
          />
        </div>
        <div class="form-group">
          <label for="height">Tinggi Badan (cm)</label>
          <input
            type="number"
            step="any"
            class="form-control"
            id="height"
            name="height"
            min="0"
            placeholder="Masukkan tinggi badan"
            value="<%= data.height %>"
            required
          />
        </div>
        <div class="form-group">
          <label for="hip">Lingkar Pinggul (cm)</label>
          <input
            type="number"
            step="any"
            class="form-control"
            id="hip"
            name="hip"
            min="0"
            placeholder="Masukkan lingkar pinggul"
            value="<%= data.hip %>"
            <%= data.gender === 'female' ? 'required' : '' %>
          />
        </div>

      <% } else if (type === 'water') { %>
        <div class="form-group">
          <label for="weight">Berat Badan (kg)</label>
          <input
            type="number"
            step="any"
            class="form-control"
            id="weight"
            name="weight"
            min="0"
            placeholder="Masukkan berat badan"
            value="<%= data.weight %>"
            required
          />
        </div>
        <div class="form-group">
          <label for="activity">Level Aktivitas</label>
          <select class="form-control" id="activity" name="activity" required>
            <option value="sedentary" <%= data.activity === 'sedentary' ? 'selected' : '' %>>Kurang</option>
            <option value="light" <%= data.activity === 'light' ? 'selected' : '' %>>Ringan</option>
            <option value="moderate" <%= data.activity === 'moderate' ? 'selected' : '' %>>Sedang</option>
            <option value="active" <%= data.activity === 'active' ? 'selected' : '' %>>Aktif</option>
            <option value="heavy" <%= data.activity === 'heavy' ? 'selected' : '' %>>Berat</option>
          </select>
        </div>

      <% } else if (type === 'calories') { %>
        <div class="form-group">
          <label for="weight">Berat Badan (kg)</label>
          <input
            type="number"
            step="any"
            class="form-control"
            id="weight"
            name="weight"
            min="0"
            placeholder="Masukkan berat badan"
            value="<%= data.weight %>"
            required
          />
        </div>
        <div class="form-group">
          <label for="height">Tinggi Badan (cm)</label>
          <input
            type="number"
            step="any"
            class="form-control"
            id="height"
            name="height"
            min="0"
            placeholder="Masukkan tinggi badan"
            value="<%= data.height %>"
            required
          />
        </div>
        <div class="form-group">
          <label for="activityLevel">Activity Level</label>
          <select class="form-control" id="activityLevel" name="activityLevel" required>
            <option value="sedentary" <%= data.activityLevel === 'sedentary' ? 'selected' : '' %>>Kurang</option>
            <option value="light" <%= data.activityLevel === 'light' ? 'selected' : '' %>>Ringan</option>
            <option value="moderate" <%= data.activityLevel === 'moderate' ? 'selected' : '' %>>Sedang</option>
            <option value="active" <%= data.activityLevel === 'active' ? 'selected' : '' %>>Aktif</option>
            <option value="very active" <%= data.activityLevel === 'very active' ? 'selected' : '' %>>Berat</option>
          </select>
        </div>

      <% } else if (type === 'whr') { %>
        <div class="form-group">
          <label for="waist">Lingkar Pinggang (cm)</label>
          <input
            type="number"
            step="any"
            class="form-control"
            id="waist"
            name="waist"
            min="0"
            placeholder="Masukkan lingkar pinggang"
            value="<%= data.waist %>"
            required
          />
        </div>
        <div class="form-group">
          <label for="hip">Lingkar Pinggul (cm)</label>
          <input
            type="number"
            step="any"
            class="form-control"
            id="hip"
            name="hip"
            min="0"
            placeholder="Masukkan lingkar pinggul"
            value="<%= data.hip %>"
            required
          />
        </div>
      <% } %>

      <button type="submit" class="btn btn-primary">Simpan</button>
      <a href="/progress" class="btn btn-secondary">Batal</a>
    </form>
  </div>

  <footer class="text-center py-4 bg-white">
    <p>&copy; 2025 WeFit Indonesia</p>
  </footer>
</body>
</html>